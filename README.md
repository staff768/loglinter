### LogLinter

LogLinter ‚Äî —ç—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –∫–æ–¥–∞ –¥–ª—è —è–∑—ã–∫–∞ Go, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –∫–∞–∫ –ø–ª–∞–≥–∏–Ω –¥–ª—è golangci-lint. –û–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–æ–≥-–∑–∞–ø–∏—Å–∏ –≤ –∫–æ–¥–µ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∞–≤–∏–ª–∞–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.


### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–õ–∏–Ω—Ç–µ—Ä –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—ã–∑–æ–≤—ã –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ª–æ–≥–≥–µ—Ä–æ–≤ (log/slog, go.uber.org/zap) –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º:

- **–†–µ–≥–∏—Å—Ç—Ä**: –õ–æ–≥-—Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å–æ —Å—Ç—Ä–æ—á–Ω–æ–π (–º–∞–ª–µ–Ω—å–∫–æ–π) –±—É–∫–≤—ã (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ-–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ).
- **–Ø–∑—ã–∫**: –î–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ (ASCII —Å–∏–º–≤–æ–ª—ã, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ-–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –Ω–µ–∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –±—É–∫–≤—ã —É–¥–∞–ª—è—é—Ç—Å—è).
- **–°–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã** –∏ —ç–º–æ–¥–∑–∏: –ó–∞–ø—Ä–µ—â–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç–º–æ–¥–∑–∏ –∏ –∑–Ω–∞–∫–æ–≤ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –≤ –∫–æ–Ω—Ü–µ —Å–æ–æ–±—â–µ–Ω–∏—è (., !, ?) (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ-–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: —É–¥–∞–ª—è—é—Ç—Å—è).
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ü–æ–∏—Å–∫ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã, API-–∫–ª—é—á–∏) –≤ —Ç–µ–∫—Å—Ç–µ –ª–æ–≥–æ–≤ (—Ç–æ–ª—å–∫–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –≤—Ä—É—á–Ω—É—é —É–¥–∞–ª–∏—Ç—å/–∑–∞–º–∞—Å–∫–∏—Ä–æ–≤–∞—Ç—å).
- **SuggestedFixes**: –î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

**–ü—Ä–∏–º–µ—Ä:**
```sh
demo.go:13:12: log message should not contain emojis or special symbols: 'done üöÄ' (loglinter)
      slog.Info("done üöÄ")   
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –ê–≤—Ç–æ-–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞—Ö (VS Code, GoLand –∏ –¥—Ä.).
- –í –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ golangci-lint –∏ custom-gcl –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, —Ç–æ–ª—å–∫–æ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–æ–¥—Å–∫–∞–∑–∫–∏.

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

Go: 1.22+

golangci-lint: v1.62.0+

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

pkg/analyzer/ ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ª–∏–Ω—Ç–µ—Ä–∞ –Ω–∞ –±–∞–∑–µ go/analysis.

plugin/ ‚Äî –∫–æ–¥ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å golangci-lint —á–µ—Ä–µ–∑ Module Plugin System.

testdata/ ‚Äî –Ω–∞–±–æ—Ä—ã —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤–∏–ª.

cmd/loglinter/ ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π —É—Ç–∏–ª–∏—Ç—ã.

### –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–ü–æ—Å–∫–æ–ª—å–∫—É –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ø–ª–∞–≥–∏–Ω–æ–≤, –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–±—Ä–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—É—é –≤–µ—Ä—Å–∏—é golangci-lint, –≤–∫–ª—é—á–∞—é—â—É—é —ç—Ç–æ—Ç –ª–∏–Ω—Ç–µ—Ä.

1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω golangci-lint:

```sh
go install github.com/golangci/golangci-lint/cmd/golangci-lint@latest
```

2. –°–±–æ—Ä–∫–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞

–í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

# –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```sh
go mod tidy
```

# –°–±–æ—Ä–∫–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –ª–∏–Ω—Ç–µ—Ä–∞

```sh
golangci-lint custom
```

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤ –ø–∞–ø–∫–µ –ø–æ—è–≤–∏—Ç—Å—è —Ñ–∞–π–ª custom-gcl (–∏–ª–∏ custom-gcl.exe –≤ Windows).

3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–õ–∏–Ω—Ç–µ—Ä –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ñ–∞–π–ª .golangci.yml. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–Ω—ã –¥–≤–∞ —Ñ–∞–π–ª–∞:

.custom-gcl.yml (–æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–±–æ—Ä–∫—É –ø–ª–∞–≥–∏–Ω–∞):

```yml
version: v1.62.0
plugins:
  - module: 'loglinter'
    path: '.'
    import: 'loglinter/plugin'
```

.golangci.yml (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–Ω–∞–ª–∏–∑–∞):

```yaml
linters:
  disable-all: true
  enable:
    - loglinter

linters-settings:
  custom:
    loglinter:
      type: "module"
      description: "checks log messages for style guide compliance"
```

.loglinter.yml (add your custom potential sensitive data)
```yaml
keywords:
  - password
  - secret
  - token
  - api_key
  - apikey
  - access_token
  - passwd
```

4. –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É –≤–∞—à–µ–≥–æ –∫–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–∞–π–ª–∞ demo.go):

```sh
./custom-gcl run demo.go
```

5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö unit-—Ç–µ—Å—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –∫–æ–º–∞–Ω–¥—É Go:

```sh
go test ./pkg/analyzer/...
```

–ü—Ä–∏–º–µ—Ä—ã —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
```go
slog.Info("Starting server")       // –û—à–∏–±–∫–∞: –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –±–æ–ª—å—à–æ–π –±—É–∫–≤—ã

slog.Error("–æ—à–∏–±–∫–∞ –±–∞–∑—ã")          // –û—à–∏–±–∫–∞: –Ω–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫

slog.Warn("connection failed!")    // –û—à–∏–±–∫–∞: –∑–Ω–∞–∫ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –≤ –∫–æ–Ω—Ü–µ

slog.Debug("api_key: " + key)      // –û—à–∏–±–∫–∞: —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

slog.Info("done üöÄ")               // –û—à–∏–±–∫–∞: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç–º–æ–¥–∑–∏
```

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
```go
slog.Info("starting server")

slog.Error("database error")

slog.Warn("connection failed")

slog.Info("operation completed")
```

### –ü—Ä–æ –∏–∏
 1. –ò–ò –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –≤ –Ω–∞—á–∞–ª–µ –ø—Ä–∏ –∏–∑—É—á–µ–Ω–∏–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ —Ç–∞–∫ –∫–∞–∫ —Ç–µ–º–∞  "–ù–∞–ø–∏—Å–∞–Ω–∏–µ —Å–≤–æ–∏—Ö –ª–∏–Ω—Ç–µ—Ä–æ–≤" –±—ã–ª–∞ –Ω–æ–≤–æ–π.
 2. –í –∫–æ–Ω—Ü–µ –∫–æ–≥–¥–∞ –Ω–∞–¥–æ –±—ã–ª–æ "–¥—Ä—É–∂–∏—Ç—å" –º–æ–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Å golangci-lint, —Ç–∞–º –±—ã–ª–æ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ—à–∏–±–æ–∫. –ö–∞–∫–∏–µ —Ç–æ —è –∏—Å–ø—Ä–∞–≤–ª—è–ª —Å–∞–º, –∫–∞–∫–∏–µ —Ç–æ –ò–ò. 

**–õ–∏—Ü–µ–Ω–∑–∏—è**

**MIT**